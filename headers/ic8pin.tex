\pgfdeclareshape{ic8pin}{
  \anchor{center}{\pgfpointorigin}                                              % within the node, (0,0) is the center
  \anchor{text}{\pgfpoint{-.5\wd\pgfnodeparttextbox}{-.5\ht\pgfnodeparttextbox}}

  \savedanchor\icpina{\pgfpoint{-.66cm}{-.625cm}}                               % pin 1
  \anchor{p1}{\icpina}
  \savedanchor\icpinb{\pgfpoint{0cm}{-.625cm}}                                  % pin 2
  \anchor{p2}{\icpinb}
  \savedanchor\icpinc{\pgfpoint{.66cm}{-.625cm}}                                % pin 3
  \anchor{p3}{\icpinc}
  \savedanchor\icpine{\pgfpoint{.66cm}{.625cm}}                                 % pin 5
  \anchor{p5}{\icpine}
  \savedanchor\icpinf{\pgfpoint{0cm}{.625cm}}                                   % pin 6
  \anchor{p6}{\icpinf}
  \savedanchor\icping{\pgfpoint{-.66cm}{.625cm}}                                % pin 7
  \anchor{p7}{\icping}

  \foregroundpath{                                                              % border and pin numbers are drawn here
    \pgfsetlinewidth{0.05cm}
    \pgfpathrectanglecorners{\pgfpoint{1cm}{.625cm}}{\pgfpoint{-1cm}{-.625cm}}
    \pgfusepath{draw}                                                           %draw rectangle
    \pgfsetlinewidth{0.03cm}
    \pgfmoveto{\pgfpoint{-1cm}{-.3cm}}
    \pgfpatharc{-90}{90}{.3cm}
    \pgfusepath{draw}                                                           %draw semicircle
    \pgftext[bottom,at={\pgfpoint{-.66cm}{-.55cm}}]{\(k\)\vphantom{A}}
    %\pgftext[bottom,at={\pgfpoint{0cm}{-.55cm}}]{\scriptsize 2}
    \pgftext[bottom,at={\pgfpoint{.66cm}{-.55cm}}]{\(s\)\vphantom{A}}
    \pgftext[top,at={\pgfpoint{.66cm}{.55cm}}]{\(c\)\vphantom{A}}
    \pgftext[top,at={\pgfpoint{0cm}{.55cm}}]{\(b\)\vphantom{A}}
    \pgftext[top,at={\pgfpoint{-.66cm}{.55cm}}]{\(a\)\vphantom{A}}
  }
}
